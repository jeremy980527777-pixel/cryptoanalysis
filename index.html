<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delta Scope - 市場異常監控</title>
    
    <link rel="icon" href="delta-scope.png" type="image/png">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="stylesheet" href="style.css?v=final_fix">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="header-content">
            <div class="logo-area">
                <img src="delta-scope.png" alt="Delta Scope Logo" class="main-logo">
                <div class="logo-text">
                    <h1>Delta Scope</h1>
                    <p class="subtitle">Real-time Crypto Anomaly Monitor</p>
                </div>
            </div>
            
            <div class="icon-group">
                <a href="https://www.threads.net/@je._.ffk?hl=zh-tw" target="_blank" class="icon-link" title="Follow on Threads">
                    <img src="threads.png" alt="Threads">
                </a>

                <a href="https://discord.gg/NTEMKmQMQS" target="_blank" class="icon-link" title="Join Discord">
                    <img src="discord1.png" alt="Discord">
                </a>

                <button id="settingsBtn" title="設定">⚙️</button>
            </div>
        </div>
        
        <div class="status-bar">
            <div id="dot" class="dot red"></div>
            <span id="statusText">正在連線...</span>
        </div>
    </header>

    <div class="container">
        <div id="notificationContainer"></div>
        <div id="content" class="dashboard-grid"></div>
    </div>

    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>⚙️ 監控設定</h2>
            
            <div class="setting-item">
                <label>🔔 桌面通知</label>
                <label class="switch">
                    <input type="checkbox" id="notifyToggle">
                    <span class="slider round"></span>
                </label>
            </div>

            <div class="setting-item">
                <label>🔊 提示音效</label>
                <label class="switch">
                    <input type="checkbox" id="soundToggle">
                    <span class="slider round"></span>
                </label>
            </div>

            <div class="setting-item">
                <label>📢 音量大小 <span id="volValue">50%</span></label>
                <input type="range" id="volumeSlider" min="0" max="100" value="50">
            </div>

            <div class="setting-item">
                <label>👀 監控方向</label>
                <select id="directionSelect">
                    <option value="all">全部監控 (多+空)</option>
                    <option value="bull">只看多頭 (Bull)</option>
                    <option value="bear">只看空頭 (Bear)</option>
                </select>
            </div>

            <hr>

            <div class="setting-item column">
                <label>🔑 專屬金鑰 (License Key)</label>
                <input type="text" id="apiKeyInput" placeholder="輸入您的 VIP Key...">
                <p id="keyStatus" class="status-small">目前狀態: 檢查中...</p>
                <button id="saveKeyBtn" class="action-btn">驗證並儲存</button>
            </div>
            <hr>
            <div class="modal-footer">
                <button id="testNotifyBtn" class="secondary-btn">測試通知音效</button>
            </div>
        </div>
    </div>

    <div id="chartModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeChartModal()">&times;</span>
            <h2 id="chartTitle">TOKEN 分析圖表</h2>
            
            <div style="position: relative; height:300px; width:100%">
                <canvas id="trendChart"></canvas>
            </div>
        </div>
    </div>

    <script src="script.js?v=final_fix"></script>
    
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"fc6d602569244ae8924355a759295486","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>
